-- MySQL Script generated by MySQL Workbench
-- Mon Feb  8 14:54:09 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema muzika
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema muzika
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `muzika` DEFAULT CHARACTER SET utf16 COLLATE utf16_slovenian_ci ;
USE `muzika` ;

-- -----------------------------------------------------
-- Table `muzika`.`periodi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `muzika`.`periodi` (
  `id` INT NOT NULL,
  `naziv` VARCHAR(45) NULL,
  `od_god` INT NULL,
  `do_god` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `muzika`.`kompozicije`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `muzika`.`kompozicije` (
  `id` INT NOT NULL,
  `naziv` VARCHAR(45) NULL,
  `god` INT NULL,
  `trajanje` INT NULL,
  `periodi_id` INT NOT NULL,
  PRIMARY KEY (`id`, `periodi_id`),
  INDEX `fk_kompozicije_periodi_idx` (`periodi_id` ASC) ,
  CONSTRAINT `fk_kompozicije_periodi`
    FOREIGN KEY (`periodi_id`)
    REFERENCES `muzika`.`periodi` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `muzika`.`kompozitori`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `muzika`.`kompozitori` (
  `id` INT NOT NULL,
  `ime` VARCHAR(45) NULL,
  `prezime` VARCHAR(45) NULL,
  `bio` TEXT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `muzika`.`instrumenti`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `muzika`.`instrumenti` (
  `id` INT NOT NULL,
  `naziv` VARCHAR(45) NULL,
  `opis` TEXT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `muzika`.`kompozicije_has_kompozitori`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `muzika`.`kompozicije_has_kompozitori` (
  `kompozicije_id` INT NOT NULL,
  `kompozitori_id` INT NOT NULL,
  PRIMARY KEY (`kompozicije_id`, `kompozitori_id`),
  INDEX `fk_kompozicije_has_kompozitori_kompozitori1_idx` (`kompozitori_id` ASC) ,
  INDEX `fk_kompozicije_has_kompozitori_kompozicije1_idx` (`kompozicije_id` ASC) ,
  CONSTRAINT `fk_kompozicije_has_kompozitori_kompozicije1`
    FOREIGN KEY (`kompozicije_id`)
    REFERENCES `muzika`.`kompozicije` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_kompozicije_has_kompozitori_kompozitori1`
    FOREIGN KEY (`kompozitori_id`)
    REFERENCES `muzika`.`kompozitori` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `muzika`.`kompozicije_has_instrumenti`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `muzika`.`kompozicije_has_instrumenti` (
  `kompozicije_id` INT NOT NULL,
  `instrumenti_id` INT NOT NULL,
  PRIMARY KEY (`kompozicije_id`, `instrumenti_id`),
  INDEX `fk_kompozicije_has_instrumenti_instrumenti1_idx` (`instrumenti_id` ASC) ,
  INDEX `fk_kompozicije_has_instrumenti_kompozicije1_idx` (`kompozicije_id` ASC) ,
  CONSTRAINT `fk_kompozicije_has_instrumenti_kompozicije1`
    FOREIGN KEY (`kompozicije_id`)
    REFERENCES `muzika`.`kompozicije` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_kompozicije_has_instrumenti_instrumenti1`
    FOREIGN KEY (`instrumenti_id`)
    REFERENCES `muzika`.`instrumenti` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;





-- UNOS PODATAKA


INSERT INTO `periodi`(`id`, `naziv`, `od_god`, `do_god`) VALUES
(1, "Srednjevekovna muzika", 800, 1400),
(2, "Renesansa", 1400, 1600),
(3, "Barok", 1600, 1750),
(4, "Klasicizam", 1750, 1820),
(5, "Romantizam", 1820, 1900),
(6, "Impresionizam", 1850, 1950),
(7, "Muzika 20. veka", 1920, 2000);


INSERT INTO `kompozitori`(`id`, `ime`, `prezime`, `bio`)
VALUES
(1, "Johan", "Sebastijan Bah", " Čuveni nemački kompozitor iz razdoblja baroka, kantor i virtuoz na čembalu i orguljama"),
(2, "Bela", "Bartok", "Mađarski kompozitor, pijanist i etnomuzikolog. Smatra se jednimod najznačajnijih predstavnika moderne."),
(3, "Ludvig", "van Bethoven", "Nemački kompozitor i pijanist iz perioda prelaza klasicizma u romantizam. Smatra se jednim od najvećih kompozitora svih vremena."),
(4, "Žorž", "Bize", "Francuski kompozitor iz perioda romantizma."),
(5, "Johanes", "Brams", "Nemački kompozitor, pijanist i dirigent iz perioda romantizma. Veći deo profesionalnog života proveo je u Beču, gde je bio lider muzičke scene, a slovi za jednog od značajnijih kompozitora druge polovine 19. veka"),
(6, "Leo", "Delib", "Bio je francuski kompozitor iz perioda romantizma. Pisao je muziku za balet, opere i operete."),
(7, "Volfgang", "Amadeus Mocart", "Austrijski kompozitor i pijanista, jedan od najznačajnijih i najuticajnijih svetskih kompozitora klasične muzike."),
(8, "Antonio", "Vivaldi", "Venecijanski sveštenik i kompozitor iz perioda baroka, kao i poznati violinista");

INSERT INTO `instrumenti`(`id`, `naziv`, `opis`)
VALUES
(1, "violina", "gudački"),
(2, "viola", "gudački"),
(3, "violončelo", "gudački"),
(4, "klavir", "žičani"),
(5, "gitara", "žičani"),
(6, "harfa", "žičani"),
(7, "lira", "žičani"),
(8, "oboa", "duvački"),
(9, "horna", "duvački"),
(10, "saksofon", "duvački"),
(11, "trombon", "duvački"),
(12, "truba", "duvački"),
(13, "frula", "duvački"),
(14, "orgulje", "aerofoni"),
(15, "harmonika", "aerofoni"),
(16, "flauta", "duvački"),
(17, "ksilofon", "udaraljke");

INSERT INTO `kompozicije`(`id`, `naziv`, `god`, `trajanje`, `periodi_id`)
VALUES
(1, "Za Elizu", 1810, 134, 4),
(2, "Tokata i fuga u d-molu", 1704, 517, 4),
(3, "Mađarske igre", null , 450, 5),
(4, "Ninja sili nebesnije", null , 340, 2),
(5, "Čarobna frula", 1791 , 280, 4),
(6, "Četiti godišnja doba - leto", null , 780, 3);



INSERT INTO `kompozicije_has_kompozitori`(`kompozicije_id`, `kompozitori_id`)
VALUES
(1, 3),
(2, 1),
(3, 5),
(5, 7),
(6, 8);

INSERT INTO `kompozicije_has_instrumenti`(`kompozicije_id`,`instrumenti_id`)
VALUES
(1, 4),
(2, 14),
(3, 4),
(5, 16),
(5, 13),
(5, 8),
(5, 1),
(5, 17),
(6, 1),
(6, 2),
(6, 3),
(6, 6),
(6, 7),
(6, 9),
(6, 16);

